<h1 class="mt-3 text-center">DANH SÁCH UID FACEBOOK</h1>
<form class="row my-3" role="search">
    <div class="col-md">
        <input class="form-control" type="text" ng-model="searchQuery" ng-change="searchProduct()" placeholder="Tìm theo ID hoặc UID">
    </div>
    <div class="col-md">
        <select class="form-select" ng-model="statusFilter" ng-change="filterProducts()">
            <option value="">Tất cả trạng thái</option>
            <option value="0">Hoạt động</option>
            <option value="1">Không hoạt động</option>
        </select>
    </div>
</form>
<button type="button" class="btn btn-outline-primary mb-3" data-bs-toggle="modal" data-bs-target="#addModal"><i class="bi bi-plus-circle"></i> Thêm mới</button>
<button type="button" class="btn btn-outline-success mb-3"><i class="bi bi-file-earmark-excel"></i> Xuất Excel</button>
<table class="table table-striped table-hover table-bordered table-sm table-responsive-sm text-center">
    <thead>
        <tr>
            <th scope="col">STT</th>
            <th scope="col">UID</th>
            <th scope="col">Ghi chú</th>
            <th scope="col">Trạng thái</th>
            <th scope="col">Chức năng</th>
        </tr>
    </thead>
    <tbody>
        <tr ng-repeat="x in products">
            <th scope="row">{{$index+1}}</th>
            <td>{{x.uid}}</td>
            <td>{{x.ghichu}} <a class="text-dark" ng-click="editGhichu(x)"><i class="bi bi-pen"></i></a></td>
            <td>
                <span class="badge bg-success" ng-if="x.trangthai==0">Live</span>
                <span class="badge bg-danger" ng-if="x.trangthai==1">Die</span>
            </td>
            <td>
                <button type="button" class="btn btn-outline-warning" ng-click="editProduct(x)"><i class="bi bi-pen"></i></button>
                <button type="button" class="btn btn-outline-danger" ng-click="deleteProduct(x.id)"><i class="bi bi-trash3"></i>Xóa</button>
            </td>
        </tr>
    </tbody>
</table>
<!--Add-->
<div class="modal fade" id="addModal" tabindex="-1" aria-labelledby="addModalLabel" aria-hidden="true">
    <form name="addFrm" novalidate>
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="addModalLabel">Thêm dữ liệu</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="mb-3">
                        <label>UID</label>
                        <input type="text" class="form-control" name="uid" ng-model="add.uid" required>
                        <span class="text-danger" ng-show="addFrm.uid.$touched && addFrm.uid.$invalid">Không được bỏ trống UID</span>
                    </div>
                    <div class="mb-3">
                        <label>Ghi chú</label>
                        <input type="text" class="form-control" ng-model="add.ghichu">
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Đóng</button>
                    <button type="button" class="btn btn-primary" ng-click="add()">Lưu</button>
                </div>
            </div>
        </div>
    </form>
</div>
<!--update-->
<div class="modal fade" id="editModal" tabindex="-1" aria-labelledby="editModalLabel" aria-hidden="true">
    <form name="editFrm" novalidate>
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="editModalLabel">Chỉnh sửa dữ liệu</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="mb-3">
                        <label>UID</label>
                        <input type="text" class="form-control" name="uid" ng-model="edit.uid" required>
                        <span class="text-danger" ng-show="editFrm.uid.$touched && editFrm.uid.$invalid">Không được bỏ trống UID</span>
                    </div>
                    <div class="mb-3">
                        <label>Ghi chú</label>
                        <input type="text" class="form-control" ng-model="edit.ghichu">
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Đóng</button>
                    <button type="button" class="btn btn-primary" ng-click="update()">Lưu</button>
                </div>
            </div>
        </div>
    </form>
</div>
